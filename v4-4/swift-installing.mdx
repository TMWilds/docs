You can integrate the Ditto SDK into Swift projects to develop native apps for Apple iOS and macOS platforms.&#x20;

<Info>
For a complete overview of the platforms, transports, and devices the Kotlin SDK supports, see [Compatibility with Swift](<./Compatibility with Swift.md>).
</Info>

To install the Ditto SDK and start syncing offline:

<Steps>
<Step>
Confirm that you meet the minimum requirements. ([Prerequisites]())
</Step>

<Step>
Install the necessary dependencies. ([Adding Package Dependencies]())
</Step>

<Step>
Set up your app permissions. ([Configuring Permissions]())
</Step>

<Step>
Authenticate with the Big Peer and then start syncing offline. ([Integrating and Initializing Sync]())
</Step>
</Steps>

# Prerequisites

Following are the minimum requirements that must be met before attempting to install Ditto.

- iOS version 13.0
- macOS version 11.0

# Adding Package Dependencies

<Tabs>
<Tab title="Swift Package Manager">
From your project in Xcode:

<Steps>
<Step>
Click **File** and then select **Add Packages...** from the menu.
</Step>

<Step>
In the **Recently Used** dialog box, copy-paste the following URL into the search box located in the upper right corner.


<Info>
For more information, see the official Apple documentation > <a href="https://developer.apple.com/documentation/xcode/adding-package-dependencies-to-your-app#3512138" target="_blank">Adding package dependencies to your app</a>.
</Info>

<Frame>
<img src="/images/v4.4/image-22.png" />
</Frame>
</Step>

<Step>
Click to select **DittoObjC** and **DittoSwift** and then click **Add Package**.&#x20;

<Frame>
<img src="/images/v4.4/image-23.png"/>
</Frame>
</Step>
</Steps>
</Tab>

<Tab title="CocoaPods">
Before installing Ditto using CocoaPods dependency manager, do the following:

<Steps>
<Step>
Make sure you have CocoaPods version 1.1.0 or later installed. For installation and upgrade instructions, see the official CocoaPods <a href="https://guides.cocoapods.org/using/getting-started.html#installation" target="_blank">_Getting Started_</a> Guide.
</Step>

<Step>
In your project's Podfile, add the line `use_frameworks!`to indicate that you want to use dynamic frameworks for the pods you're integrating.
</Step>

<Step>
Add the DittoSwift framework with version 4.3.0 by running the following in your project directory:

```none
pod 'DittoSwift', '=4.3.0'
```

</Step>

<Step>
Run the following to install the latest version of the dependencies:

```none
pod install --repo-update
```

</Step>
</Steps>
</Tab>
</Tabs>

# Configuring Permissions

Once you've added dependencies:

<Steps>
<Step>
From Xcode, add a new **Custom iOS Target Properties** entry:

1. From the left navigator area, click your project.
2. In the editor that appears, click **Info** tab.
3. Right-click any row in the list, and then select **Add Row** from the menu.

<Info>
For instructions on configuring permissions for your app, see the [Installing Swift SDK]() > [Configuring Permissions]() topic.
</Info>

<Frame>
<img src="/images/v4.4/image-24.png"/>
</Frame>
</Step>

<Step>
From your project's `Info.plist`file, add the following key-value pairs, and then, if applicable, modify each string assigned to `Value`:

- Once implemented, the following string values display as a prompt to your end users explaining why the app requires certain permissions.&#x20;

- If your end users prefer a language other than English, replace the string values with their language equivalents.

<Tabs>
<Tab title="From Info Tab">
```none
Key: NSBluetoothAlwaysUsageDescription
Type: String
Value: Uses Bluetooth to connect and sync with nearby devices

Key: NSLocalNetworkUsageDescription
Type: String
Value: Uses WiFi to connect and sync with nearby devices

Key: NSBonjourServices
Type: String
Value: \_http-alt.\_tcp.

```
</Tab>

<Tab title="From Source Code">
```xml
<key>NSBluetoothAlwaysUsageDescription</key>
<string>Uses Bluetooth to connect and sync with nearby devices</string>
<key>NSLocalNetworkUsageDescription</key>
<string>Uses WiFi to connect and sync with nearby devices</string>
<key>NSBonjourServices</key>
<array>
  <string>_http-alt._tcp.</string>
</array>
```

</Tab>
</Tabs>
</Step>

<Step>
From Xcode, ensure your app continues to sync while it runs in the background, as well as when the end-user device is locked by enabling **Bluetooth Background Modes**:

1. From the left navigator area, click your project.

2. Click **Signing & Capabilities**.
   &#x20;
3. From **TARGETS**, select your app from the list.&#x20;

4. From **Background Modes**, click to select **Uses Bluetooth LE** **accessories** from the list.

<Frame>
<img src="/images/v4.4/image-23.png"/>
</Frame>
</Step>
</Steps>

# Integrating and Initializing Sync

Once you've set up your environment, import the Ditto SDK in your codebase and obtain your access credentials.

<Warning>
Unless you have a specialized use case, such as a government app, you must connect to the internet at least once before you can sync offline with other peers.&#x20;

For more information, see _Ditto Basics_ > [Authentication and Initialization](</v4-5/basics/authentication-and-initialization>).

</Warning>

<Steps>
<Step>
From the top-most scope of your app's codebase, add the following to set up authentication and start syncing offline.
</Step>

<Step>
Replace `YOUR_APP_ID` and `YOUR_PLAYGROUND_TOKEN` with your access credentials available from the portal.&#x20;

<Info>
For instructions on how to obtain your access credentials, see [Onboarding](/v4-4/onboarding). For an introduction to authentication in Ditto, see _Ditto Basics_ > [Authentication and Initialization](</v4-5/basics/authentication-and-initialization>).
</Info>

```swift
let ditto = Ditto(identity: .onlinePlayground(
    appID: "YOUR_APP_ID",
    token: "YOUR_PLAYGROUND_TOKEN"
))

do {
  try ditto.startSync()
} catch (let err) {
  print(err.localizedDescription)
}
```

</Step>
</Steps>
